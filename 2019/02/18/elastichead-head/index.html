<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>elasticsearch-head 插件安装 › SY12138</title>
  <meta name="author" content="Shen Yun">
  
  <meta name="description" content="这个插件对es5.0之后的版本极其不友好，查到的教程都有一些奇怪

在线安装方法：

https://github.com/mobz/elasticsearch-head 下载elasticsearch-head-master.zip 

https://nodejs.org/dist/v10.15">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="elasticsearch-head 插件安装">
  <meta property="og:site_name" content="SY12138">

  
    <meta property="og:image" content="">
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="SY12138" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>
</html>

<body>
  <header id="header"><div class="meta inner">
  <h1><a href="/">SY12138</a></h1>
  <h2><a href="/"></a></h2>
  <nav id="main-nav">
    <ul>
      
      <li><a href="/about">About</a></li>
      
      <li><a href="/archives">Archives</a></li>
      
      <li><a href="/atom.xml">RSS</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title">elasticsearch-head 插件安装</h1>
  

      
        <time datetime="2019-02-18T12:00:25.894Z">2019-02-18</time>
      
    </header>
    <div class="entry">
      
        <ul>
<li><p>这个插件对es5.0之后的版本极其不友好，查到的教程都有一些奇怪</p>
</li>
<li><p>在线安装方法：</p>
<ul>
<li><p><a href="https://github.com/mobz/elasticsearch-head" target="_blank" rel="noopener">https://github.com/mobz/elasticsearch-head</a> 下载elasticsearch-head-master.zip </p>
</li>
<li><p><a href="https://nodejs.org/dist/v10.15.1/node-v10.15.1-linux-x64.tar.xz" target="_blank" rel="noopener">https://nodejs.org/dist/v10.15.1/node-v10.15.1-linux-x64.tar.xz</a>  下载 node-v10.15.1-linux-x64.tar.xz</p>
</li>
<li><p>安装node.js</p>
<ul>
<li><p>解压  xz -d node-v10.15.1-linux-x64.tar.xz &amp;&amp; tar -xvf node-v10.15.1-linux-x64.tar</p>
</li>
<li><p>配置环境变量  在 .bash_profile 中添加</p>
<blockquote>
<p>export NODE_HOME=/home/elasticsearch/node-v10.14.1-linux-x64<br>export PATH=\$PATH:\$NODE_HOME/bin<br>export NODE_PATH=\$NODE_HOME/lib/node_modules</p>
</blockquote>
<p>执行 <code>source .bash_profile</code>  然后<code>node -v</code>或者<code>npm -v</code>执行 查看node.js 版本</p>
</li>
<li><p>安装完成</p>
</li>
</ul>
</li>
<li><p>安装head插件</p>
<ul>
<li><p>解压</p>
</li>
<li><p>修改 Gruntfile.js文件 在</p>
<blockquote>
<p>connect: {<br>​    server: {<br>​        options: {<br>​            port: 9100,<br>​            base: ‘.’,<br>​            keepalive: true,<br>​            hostname: ‘*’    <em>添加这个字段,上面的逗号谁不加谁知道</em><br>​        }<br>​    }<br>}</p>
</blockquote>
</li>
<li><p>修改 _site/app.js 文件   将</p>
<blockquote>
<p>this.base_uri=this.config.base_uri || this.prefs.get(“app-base_uri”) || “<a href="http://localhost:9200&quot;" target="_blank" rel="noopener">http://localhost:9200&quot;</a>;  中的localhost替换为当前机器的IP地址</p>
</blockquote>
</li>
<li><p>进入elasticsearch-head-master 目录 执行 </p>
<p><code>npm install</code></p>
<p> <code>npm install -g grunt-cli</code> </p>
<p>运行<code>grunt server</code>可能会报出下面的一些错误👇</p>
<blockquote>
<p>Local Npm module “grunt-contrib-clean” not found. Is it installed?<br>Local Npm module “grunt-contrib-concat” not found. Is it installed?<br>Local Npm module “grunt-contrib-watch” not found. Is it installed?<br>Local Npm module “grunt-contrib-connect” not found. Is it installed?<br>Local Npm module “grunt-contrib-copy” not found. Is it installed?<br>Local Npm module “grunt-contrib-jasmine” not found. Is it installed?</p>
</blockquote>
<p>解决办法：  一个一个装上  举个例子如下  同理把6个都install（最后一个可能会报错 不影响）</p>
<p><code>npm install grunt-contrib-clean --registry=https://registry.npm.taobap.org</code></p>
<p>执行 <code>grunt server</code>  一般情况下就会正常执行了 访问 ip:9100即可</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>离线安装方法：</p>
<ul>
<li>下载 elasticsearch-head-master.zip 和 node-v10.14.1-linux-x64.tar.xz，按照上一步操作到修改文件</li>
<li>找一台能在线安装的机器，安装好之后拷贝出elasticsearch-head-master 文件夹下的 node_modules文件夹，放到离线机器的对应位置</li>
<li>执行 <code>node_modules/grunt/bin/grunt server</code>即可</li>
</ul>
</li>
</ul>

      
    </div>
      
      <footer>
        
        
        
  <div class="addthis addthis_toolbox addthis_default_style">
    
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
    
    
      <a class="addthis_button_tweet"></a>
    
    
      <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    
    
      <a class="addthis_button_pinterest_pinit" pi:pinit:layout="horizontal"></a>
    
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js"></script>

      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>


<section id="comment">
  
</section>


</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:yoursite.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2019/02/18/elasticsearch集群搭建/">ES集群搭建</a>
      </li>
    
      <li>
        <a href="/2019/02/18/elastichead-head/">elasticsearch-head 插件安装</a>
      </li>
    
      <li>
        <a href="/2018/12/03/es常见命令/">ES常见命令</a>
      </li>
    
      <li>
        <a href="/2018/12/03/kafka添加SASL认证方法/">kafka添加SASL认证方法</a>
      </li>
    
      <li>
        <a href="/2018/11/22/elk集群搭建记录/">ELK集群搭建记录</a>
      </li>
    
  </ul>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2019 Shen Yun
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



</body>
</html>

